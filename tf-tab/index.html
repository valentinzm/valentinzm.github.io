<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вкладка описание</title>
    <link rel="stylesheet" href="libs/swiper/swiper.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="flex-land-wrap">
        <div class="container-item">
            <div class="tab-wrap">
                <section class="tab-video" id="tab-video">
                    <div class="tab-video__content">
                        <img src="images/TefalLogo.svg" alt="">
                        <i class="tab-video__sublogo"></i>
                        <h1 class="tab-video__title">
                            ЧИЩЕ БЫСТРЕЕ ПОЛЕЗНЕЕ
                        </h1>
                        <img src="images/PlayButton.svg" alt="" class="tab-video__button">
                    </div>

                </section>
                <section class="tab-row">
                    <div class="tab-row__image" style="background-image: url('images/pic1.jpg');">

                    </div>
                    <div class="tab-row__content">
                        <h4 class="tab-row__title">Моет и пылесосит полы одновременно!</h4>
                        <p class="tab-row__text">Инновационное устройство экономит ваше время благодаря эксклюзивной насадке Dual Clean & Steam, которая одновременно пылесосит и моет полы, сокращая время уборки в 2 раза.</p>
                    </div>
                </section>
                <section class="tab-row">
                    <div class="tab-row__content">
                        <h4 class="tab-row__title">Убивает до 99,9% микробов и бактерий</h4>
                        <p class="tab-row__text">Clean & Steam Multi создает мощный пар, способный уничтожать до 99,9% микробов и бактерий, а значит вам больше не придется применять химические моющие средства, чтобы дезинфицировать поверхности и полы.</p>
                    </div>
                    <div class="tab-row__image" style="background-image: url('images/pic2.jpg');"></div>

                </section>
                <section class="tab-row">
                    <div class="tab-row__image tab-row__image_small" style="background-image: url('images/pic3.jpg');"></div>
                    <div class="tab-row__content tab-row__content_large">
                        <h4 class="tab-row__title">Универсальное решение для уборки дома</h4>
                        <p class="tab-row__text">Clean&Steam Multi – это пылесос и паровой очиститель в одном корпусе для максимально эффективной уборки. Устройство одновременно пылесосит и моет полы паром, а съемный пароочиститель и целый набор аксессуаров помогут очистить различные
                            поверхности в доме.</p>
                    </div>
                </section>
                <section class="tab-grid">
                    <div class="tab-grid__big" style="background-image: url('images/grid1.jpg');">
                        <p class="tab-grid__text">Подходит для </br> чистки ковра</p>
                    </div>
                    <div class="tab-grid__small tab-grid__small11" style="background-image: url('images/grid2.jpg');">
                        <p class="tab-grid__text">Может очистить</br> любой тип пола</p>
                    </div>
                    <div class="tab-grid__small tab-grid__small12" style="background-image: url('images/grid3.jpg');">
                        <p class="tab-grid__text">Подходит для всех </br>поверхностей в доме</p>
                    </div>
                </section>
                <section class="tab-set">
                    <h4 class="tab-set__title">В комплект также входят:</h4>
                    <div class="tab-set__content">

                        <div class="tab-set__shlang">
                            <p class="tab-set__shlang__descr1">Концентратор для труднодоступных мест</p>
                            <p class="tab-set__shlang__descr2">Скребок для окон</p>
                            <p class="tab-set__shlang__descr3">Жесткая щетка</p>
                            <p class="tab-set__shlang__descr4">Насадка для текстиля</p>
                            <p class="tab-set__shlang__descr5">Насадки для любых поверхностей в ванной, кухне и других комнатах</p>
                            <img src="images/descr-line.svg" alt="" class="tab-set__shlang__descrline">
                            <img src="images/ShlangNasadki.png" alt="" class="tab-set__shlang__image">
                        </div>

                        <div class="tab-set__rags">
                            <img src="images/RagPic.png" alt="">
                            <div class="tab-set__rags_content">
                                <h4 class="tab-set__rags_title">6 тряпок из микроволокна</h4>
                                <p class="tab-set__rags_text">Два типа тряпок из микроволокна для загрязнений любой сложности.</p>
                            </div>
                        </div>
                        <div class="tab-set__mobile">
                            <div class="tab-set__mobile_content">
                                <h4 class="tab-set__mobile_title">10 насадок на пароочиститель</h4>
                                <p class="tab-set__mobile_text">Насадки для любых поверхностей в ванной, кухне и других комнатах, а также текстиля.</p>
                            </div>
                            <img src="images/PhotoNasadki.jpg" alt="">
                        </div>
                        <div class="tab-set__steam">
                            <img src="images/SteamCPic.png" alt="">
                            <div class="tab-set__steam_content">
                                <h4 class="tab-set__steam_title">Съемный пароочиститель </h4>
                                <p class="tab-set__steam_text">Снимается с корпуса устройства, работает автономно.</p>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="tab-products">
                    <h4 class="tab-title tab-products__title">
                        Обзоры товара
                    </h4>
                    <div class="tab-products__row">
                        <a href="#" class="tab-products__col">
                            <img src="images/rew1.jpg" alt="" class="tab-products__img">
                            <p class="tab-products__text">Тест-драйв нового парового пылесоса Clean&Steam Multi</p>
                        </a>
                        <a href="#" class="tab-products__col">
                            <img src="images/rew2.jpg" alt="" class="tab-products__img">
                            <p class="tab-products__text">Как я купила паровой пылесос и избавилась от пыли</p>
                        </a>
                        <a href="#" class="tab-products__col">
                            <img src="images/rew3.jpg" alt="" class="tab-products__img">
                            <p class="tab-products__text">Что делать если ты аллергик? Выход есть!</p>
                        </a>
                    </div>
                </section>



                <section class="slider-block reviews">
                    <h2 class="section-title reviews_title">Отзывы наших пользователей</h2>

                    <!-- Slider main container -->
                    <div class="swiper-slider-block-wrapper">
                        <div class="swiper-container swiper-slider-block swiper-reviews">
                            <!-- Additional required wrapper -->
                            <div class="swiper-wrapper">
                                <!-- Slides -->

                            </div>
                            <!-- If we need navigation buttons -->
                        </div>
                        <svg class="arrow swiper-button-prev-unique arrow-reviews-prev" width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path class="flex-black-arrow-circle" d="M22 40.3332C32.1252 40.3332 40.3333 32.1251 40.3333 21.9998C40.3333 11.8746 32.1252 3.6665 22 3.6665C11.8748 3.6665 3.66667 11.8746 3.66667 21.9998C3.66667 32.1251 11.8748 40.3332 22 40.3332Z" fill="white" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path  class="flex-black-arrow-arrow-left" d="M22 14.6665L14.6667 21.9998L22 29.3332" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path  class="flex-black-arrow-circle-arrow-right" d="M29.3334 22H14.6667" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <svg class="arrow swiper-button-next-unique arrow-reviews-next" width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path class="flex-black-arrow-circle" d="M22 40.3332C32.1252 40.3332 40.3333 32.1251 40.3333 21.9998C40.3333 11.8746 32.1252 3.6665 22 3.6665C11.8748 3.6665 3.66667 11.8746 3.66667 21.9998C3.66667 32.1251 11.8748 40.3332 22 40.3332Z" fill="white" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path class="flex-black-arrow-arrow-left" d="M22 14.6665L14.6667 21.9998L22 29.3332" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path class="flex-black-arrow-circle-arrow-right" d="M29.3334 22H14.6667" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>

                    </div>
                </section>

                <section class="slider-block user-videos">
                    <h2 class="slider-block_title user-videos_title">Видео о продукте</h2>

                    <!-- Slider main container -->
                    <div class="swiper-slider-block-wrapper">
                        <div class="swiper-container swiper-slider-block swiper-user-videos">
                            <!-- Additional required wrapper -->
                            <div class="swiper-wrapper">
                                <!-- Slides -->
                                <div class="swiper-slide">
                                    <div class="slider-block-card user-videos-card" data-url="https://www.youtube.com/embed/PPI8Bf9-Z5E">
                                        <div class="slider-block-card_img user-videos-card_img" style="background-image: url('images/vid1.jpg');">
                                            <img class="slider-block-card_play abs-center" src="images/PlayButton.svg" alt="">
                                        </div>
                                        <div class="user-videos-card_author-date">
                                            <div class="user-videos-card_author">
                                                <img src="images/ava.jpg" alt="" class="user-videos-card_author-img">
                                                <a href="https://www.youtube.com/watch?v=vlL0ipY7JFk" class="user-videos-card_title text-spacing-150">Елена Хлопенко</a>
                                            </div>
                                            <span class="user-videos-card_date text-spacing-150">01.06.2020</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="slider-block-card user-videos-card" data-url="https://www.youtube.com/embed/PPI8Bf9-Z5E">
                                        <div class="slider-block-card_img user-videos-card_img" style="background-image: url('images/vid2.jpg');">
                                            <img class="slider-block-card_play abs-center" src="images/PlayButton.svg" alt="">
                                        </div>
                                        <div class="user-videos-card_author-date">
                                            <div class="user-videos-card_author">
                                                <img src="images/ava.jpg" alt="" class="user-videos-card_author-img">
                                                <a href="https://www.youtube.com/watch?v=XzZx6vH8Gow" class="user-videos-card_title text-spacing-150"> Елена Хлопенко</a>
                                            </div>
                                            <span class="user-videos-card_date text-spacing-150">01.06.2020</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="swiper-slide">
                                    <div class="slider-block-card user-videos-card" data-url="https://www.youtube.com/embed/PPI8Bf9-Z5E">
                                        <div class="slider-block-card_img user-videos-card_img" style="background-image: url('images/vid3.jpg');">
                                            <img class="slider-block-card_play abs-center" src="images/PlayButton.svg" alt="">
                                        </div>
                                        <div class="user-videos-card_author-date">
                                            <div class="user-videos-card_author">
                                                <img src="images/ava.jpg" alt="" class="user-videos-card_author-img">
                                                <a href="https://www.youtube.com/watch?v=KPn5-d4d1z4" class="user-videos-card_title text-spacing-150">Елена Хлопенко</a>
                                            </div>
                                            <span class="user-videos-card_date text-spacing-150">01.06.2020</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- If we need navigation buttons -->
                        </div>
                        <svg class="arrow swiper-button-prev-unique arrow-user-videos-prev" width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path class="flex-black-arrow-circle" d="M22 40.3332C32.1252 40.3332 40.3333 32.1251 40.3333 21.9998C40.3333 11.8746 32.1252 3.6665 22 3.6665C11.8748 3.6665 3.66667 11.8746 3.66667 21.9998C3.66667 32.1251 11.8748 40.3332 22 40.3332Z" fill="white" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path  class="flex-black-arrow-arrow-left" d="M22 14.6665L14.6667 21.9998L22 29.3332" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path  class="flex-black-arrow-circle-arrow-right" d="M29.3334 22H14.6667" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <svg class="arrow swiper-button-next-unique arrow-user-videos-next" width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path class="flex-black-arrow-circle" d="M22 40.3332C32.1252 40.3332 40.3333 32.1251 40.3333 21.9998C40.3333 11.8746 32.1252 3.6665 22 3.6665C11.8748 3.6665 3.66667 11.8746 3.66667 21.9998C3.66667 32.1251 11.8748 40.3332 22 40.3332Z" fill="white" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path class="flex-black-arrow-arrow-left" d="M22 14.6665L14.6667 21.9998L22 29.3332" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                          <path class="flex-black-arrow-circle-arrow-right" d="M29.3334 22H14.6667" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </section>

            </div>

            <section class="modals">
                <div class="modals-layout">
                    <div class="modal video-modal">
                        <div class="modal-content">
                            <svg class="close-modal" width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 29.3333C23.3638 29.3333 29.3334 23.3638 29.3334 16C29.3334 8.6362 23.3638 2.66667 16 2.66667C8.63622 2.66667 2.66669 8.6362 2.66669 16C2.66669 23.3638 8.63622 29.3333 16 29.3333Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M20 12L12 20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 12L20 20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <iframe class="video-yt" src="" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <!--tab-wrap-->
        </div>
    </div>

    <script src="libs/swiper/swiper.min.js">
    </script>
    <script>
        var getPubDate = function getPubDate(timestamp) {
            var pubDate = new Date(timestamp * 1000);
            var day = pubDate.getDate();
            var monthArr = 'января, февраля, марта, апреля, июня, июля, августа, сентября, октября, ноября, декабря'.split(',');
            var month = monthArr[pubDate.getMonth() - 1];
            return "".concat(day, " ").concat(month);
        };

        var getOwner = function getOwner(string) {
            var myRegexp = /Photo by(.*?) (in|on)/g;
            return myRegexp.exec(string)[1];
        };

        var getSlideString = function getSlideString(post) {
            return "<div class=\"swiper-slide\">\n  <div class=\"slider-block-card review-card\">\n  <div class=\"reviews_post-top\">\n    <span class=\"reviews_post-owner\">".concat(getOwner(post.node.accessibility_caption), "</span>\n    <span class=\"reviews_post-date\">").concat(getPubDate(post.node.taken_at_timestamp), "</span>\n  </div>\n  <img class=\"swiper-reviews_img\" src=").concat(post.node.thumbnail_src, ">\n  <div class=\"reviews_post-content\">\n    <div class=\"swiper-reviews_like-wrap\">\n      <i class=\"swiper-reviews_like\"></i> <span class=\"swiper-reviews_like-count\">").concat(post.node.edge_liked_by.count, "</span>\n    </div>\n    <p class=\"insta-post-desc\">").concat(post.node.edge_media_to_caption.edges[0].node.text, "</p>\n  </div>\n  </div>\n</div>");
        };
        document.addEventListener('DOMContentLoaded', function() {
            var reviewsSwiper = new Swiper('.swiper-reviews', {
                breakpoints: {
                    // when window width is >= 320px
                    1140: {
                        slidesPerView: 4,
                        loop: true,
                        centeredMode: true,
                        speed: 500,
                    }
                },
                loop: true,
                spaceBetween: 12,
                slidesPerView: 1.3,
                navigation: {
                    nextEl: '.arrow-reviews-next',
                    prevEl: '.arrow-reviews-prev'
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                    bulletActiveClass: 'active-bullet',
                    renderBullet: function renderBullet(index, className) {
                        return '<span class="' + className + ' custom-bullet"></span>';
                    }
                }
            });

            if (document.querySelector('.reviews')) {
                var instaData = fetch('https://www.instagram.com/explore/tags/tefal_flex/?__a=1').then(function(response) {
                    return response.json();
                }).then(function(data) {
                    var posts = data.graphql.hashtag.edge_hashtag_to_media.edges;
                    console.log(posts);
                    var iter = 0;
                    var cyrillicPattern = /[а-яА-ЯЁё]/;

                    while (iter <= 50) {
                        if (cyrillicPattern.test(posts[iter].node.edge_media_to_caption.edges[0].node.text)) {
                            if (posts[iter].node.accessibility_caption != null) {
                                reviewsSwiper.appendSlide(getSlideString(posts[iter]));
                            }
                        }

                        iter++;
                    }
                });
            }
        });

        var userVideosSwiper = new Swiper('.swiper-user-videos', {
            breakpoints: {
                // when window width is >= 320px
                1120: {
                    slidesPerView: 3
                }
            },
            loop: true,
            spaceBetween: 24,
            slidesPerView: 1.3,
            navigation: {
                nextEl: '.arrow-user-videos-next',
                prevEl: '.arrow-user-videos-prev'
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
                bulletActiveClass: 'active-bullet',
                renderBullet: function renderBullet(index, className) {
                    return '<span class="' + className + ' custom-bullet"></span>';
                }
            },
            on: {
                click: function click(_ref) {
                    var target = _ref.target;
                    document.querySelector('.modals-layout').style = 'display: block;';
                    document.querySelector('.video-modal').style = 'display: block;';
                    document.body.style.top = "-".concat(window.scrollY, "px");
                    document.body.style.overflow = 'hidden';
                    document.body.style.position = 'fixed';
                    var videoCard = target.closest('.slider-block-card');
                    document.querySelector('.video-modal .video-yt').src = videoCard.dataset.url;
                }
            }
        });


        if (document.querySelector('.tab-video__content')) {
            document.querySelector('.tab-video__content').addEventListener('click', function() {
                document.querySelector('.modals-layout').style = 'display: block;';
                document.querySelector('.video-modal').style = 'display: block;';
                document.body.style.top = "-".concat(window.scrollY, "px");
                document.body.style.overflow = 'hidden';
                document.body.style.position = 'fixed';
                document.querySelector('.video-modal .video-yt').src = "https://www.youtube.com/embed/PPI8Bf9-Z5E";
            });
        }

        document.querySelectorAll('.close-modal').forEach(function(close) {
            close.addEventListener('click', function(event) {
                var _event$target$closest, _event$target$closest2;

                (_event$target$closest = event.target.closest('.modal')) === null || _event$target$closest === void 0 ? void 0 : (_event$target$closest2 = _event$target$closest.querySelector('iframe')) === null || _event$target$closest2 === void 0 ? void 0 : _event$target$closest2.setAttribute("src", "");
                if (event.target.closest('.modal')) event.target.closest('.modal').style.display = 'none';
                if (event.target.closest('.compare-modal')) event.target.closest('.compare-modal').style.display = 'none';
                document.querySelector('.modals-layout').style.display = 'none';
                var scrollY = document.body.style.top;
                document.body.style.position = '';
                document.body.style.top = '';
                document.body.style.overflow = 'auto';
                window.scrollTo(0, parseInt(scrollY || '0') * -1);
            });
        });
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.querySelector('.modals-layout').style.display = 'none';
                var scrollY = document.body.style.top;
                document.body.style.position = '';
                document.body.style.top = '';
                document.body.style.overflow = 'auto';
                window.scrollTo(0, parseInt(scrollY || '0') * -1);
                document.querySelectorAll('.modal').forEach(function(modal) {
                    modal.style.display = 'none';
                });
                document.querySelectorAll(".flex-land-wrap iframe").forEach(function(iframe) {
                    iframe.src = "";
                });
            }
        });
    </script>
</body>

</html>